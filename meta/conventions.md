# langos-docs 文档约定（conventions）

本文件约束 **langos-docs 仓内文档** 的结构、命名与写作习惯。  
运行时内核与协议行为的规范见 `langos/runtime/conventions.md`，两者互不替代。

如无特别说明，以下约定优先适用于新增文档；存量文档可在迭代中逐步对齐。

---

## 1. 适用范围

- 适用：`langos-docs/` 仓中的所有 Markdown 文档（包括 README、规格、ADR、项目文档等）。
- 不适用：`../langos/` 仓中的运行时说明、协议定义及代码文件。
- 若本文件与某个具体规格或 ADR 存在冲突：
  1. 以明确标注为“强制规则”的规格/ADR 为准；
  2. 应优先通过更新本文件消除长期冲突。
- 本文件是 langos-docs 文档结构/命名/分类的单一规范源；若其他文档出现重复或冲突表述，应以本文件为准，并回收/更新引用以避免多处维护。

---

## 2. 语言与写作风格

- 语言：
  - 文档正文统一使用简体中文；
  - 对于专有名词（系统/协议/算法/库名），保留英文原文。
- 风格：
  - 段首先给结论或要点，再展开说明；
  - 控制段落长度，避免过长段落；
  - 不追求文风华丽，以清晰、可追溯为主。
- 标题层级：
  - 文档顶部使用 `#` 作为主标题；
  - 之后依次使用 `##`、`###` 等，不跳级；
  - 同级内容使用统一的标题级别，不混用。
- 列表与代码：
  - 结构化信息优先使用无序/有序列表；
  - 路径、命令、配置示例放在代码块或行内代码中，避免与正文混淆。

---

## 3. 目录职责与基本规则

目录职责的术语说明见 `domain/glossary.md`，本节只强调**硬规则**：

- `blueprints/`：
  - 用于顶层蓝图与愿景，如 `meta-intro.md`、`vision.md`；
  - 不存放具体仓库说明或需求规格。
- `repos/`：
  - 仅存放项目索引与单仓概览；
  - 每个仓库使用一个文件：`repos/<name>.md`；
  - 不在此目录存放蓝图、规格或项目计划。
- `specs/`：
  - 存放需求与设计规格；
  - 通用或跨仓规格直接放在 `specs/`；
  - 针对某个仓库的规格放在 `specs/<repo>/`（例如 `specs/langos/`）。
- `projects/`：
  - 存放跨仓或阶段性项目文档；
  - 不放对单一仓库的日常记录（那应放在对应仓库自己的文档中）。
- `adr/`：
  - 仅存放架构决策记录；
  - 每条 ADR 关注一个决策主题。
- `domain/`：
  - 存放领域知识、术语表、数据模型等；
  - 可以包含 `glossary.md`、`data-model.md` 等文件；
  - 不直接承载项目计划或具体需求。
- `archive/`：
  - 用于归档已过时或完成的文档；
  - 归档时需在文件头部注明：
    - 原始路径；
    - 归档原因；
    - 归档日期；
    - 如果有替代文档，给出链接。

若新增文档无法清晰归入上述目录之一，优先考虑：

1. 是否应调整现有目录职责（见 meta/README 中 3.2 节流程）；  
2. 若只是一篇临时性的探索文档，可暂放 `projects/` 下某个项目目录，并在成熟后迁移。

---

## 4. 文件命名规范

### 4.1 通用规则

- 使用小写字母、数字与连字符（`-`），避免空格和大写；
- 尽量体现主题含义，避免无意义缩写；
- 避免频繁更名，以免产生大量断链。

### 4.2 各类文档约定

1. 根 README 与目录 README
   - 仓根：`README.md`，用于说明 langos-docs 仓整体定位与导航；
   - 各目录：保留 `README.md` 作为该目录的“使用说明”与内容索引；
   - README 中避免堆过多细节，更多细节交给下层文档。

2. 规格（specs）
   - 建议命名：`YYYYMM-topic-spec.md`，例如：
     - `202512-langos-docs-classification-spec.md`
     - `202512-langos-runtime-docs-decoupling-spec.md`
   - 按照仓库或主题使用子目录，例如：
     - `specs/langos/` 存放 langos 内核相关规格；
     - 未来可增加 `specs/cross-repo/` 等。
   - 元信息：每篇 spec 顶部标注 `Status`（draft/active/implemented/superseded/archived）、`Since`（YYYY-MM），必要时补充 `Supersedes`、`Superseded-by`、`Related-ADR`，并在正文列出预期更新的 SOT 文档；详细约束见 `specs/langos/20251211-spec-lifecycle-and-doc-grooming-spec.md`。

3. 架构决策记录（adr）
   - 命名：`YYYYMMDD-short-name.md`，例如：
     - `20251211-docs-structure-adjustment.md`
   - 文件头部建议包含：
     - 状态（提案/通过/废弃）；
     - 背景与上下文；
     - 决策内容；
     - 备选方案与取舍；
     - 影响与后续动作。

4. 项目文档（projects）
   - 推荐目录命名：`YYYYMM-project-name/`，例如：
     - `202512-langos-governance/`
   - 目录下常见文件：
     - `overview.md`：项目背景、目标、范围；
     - `plan.md` / `milestones.md`：计划与里程碑；
     - `notes.md`：会议、决策、风险与待办；
   - 如项目结束，可将整个目录移动到 `archive/` 下并在新路径保留说明。

5. 仓库索引（repos）
   - 每个仓库一个文件：`repos/<name>.md`，例如：
     - `repos/langos.md`
     - `repos/langos-docs.md`（如需要为 docs 仓本身写说明）
   - `repos/INDEX.md` 用于列出所有项目的简要索引。

6. meta 文档
   - `meta/README.md`：说明 langos-docs 仓如何迭代；
   - `meta/conventions.md`：本文件；
   - 若有其他 meta 文档，请在文件开头明确说明适用范围。

---

## 5. 链接与引用约定

- 相对路径：
  - 所有文档引用优先使用相对路径（例如 `../specs/langos/...`），避免硬编码绝对路径；
  - 跨仓引用（指向 `../langos/`）时，仅作为说明，不要求读者必须同时拥有两个仓。
- 链接目标：
  - 指向某一类文档入口时，优先指向 README 或索引文件；
  - 指向具体规格或 ADR 时，建议附上一句简要说明（避免读者只看到文件名不知所云）。
- 避免隐式依赖：
  - 尽量不要在 docs 仓中硬编码运行时的行为细节；
  - 涉及运行时行为时，应明确说明“以 langos 仓内文档为准”。

---

## 6. 变更本约定的流程

本文件是 langos-docs 仓的基础规范之一，如需调整，建议遵循：

1. 先在对话或草稿中写清楚变更动机和预期影响；
2. 若改动较大或会影响大量文档：
   - 在 `specs/langos/` 中补充或更新一份相关规格，或
   - 在 `adr/` 中新增一条 ADR 记录此次决策；
3. 更新本文件，并在 `meta/README.md` 中确认是否需要同步调整迭代流程描述；
4. 简要检查：
   - 根 README 与各目录 README 是否需要更新说明；
   - `domain/glossary.md` 中的术语解释是否仍然一致。

如不确定是否需要规格/ADR 支撑，优先向人类提问确认后再修改。
